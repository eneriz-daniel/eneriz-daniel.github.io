<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> instin | Daniel Enériz </title> <meta name="author" content="Daniel Enériz"> <meta name="description" content="a Raspberry-based wireless instrumentation control system"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8E%93&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://eneriz-daniel.com/projects/instin/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Daniel</span> Enériz </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/bio/">bio </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">instin</h1> <p class="post-description">a Raspberry-based wireless instrumentation control system</p> </header> <article> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <img class="img-fluid rounded z-depth-1" src="/assets/img/instin-scheme.png" data-zoomable="" alt="" title="Instin's scheme"> </div> </div> <div class="caption"> Instin-based system scheme. Each gateway can be connected to up to four instruments. </div> <p><strong>Instin</strong> is a wireless instrumentation control system based on gateways, which are in charge of receive the instrumentation commands from the host computer, send them to the instruments and reply the requested information (if any) to the host.</p> <p>The gateways are based on SBCs (<em>Single Board Computers</em>), concretely Raspberries Pi Zero W, which are extremely low-cost. To ease the connection of the instruments to the raspberries, a USB hub specifically engineered for these SBCs, the Zero4U hub, was coupled to each RPi, thus allowing the connection of up to four instruments using type-A-to-type-B USB buses.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <img class="img-fluid rounded z-depth-1" src="/assets/img/instin-gw.jpg" data-zoomable="" alt="" title="Gateway"> </div> </div> <div class="caption"> Complete gateway (Raspberry Pi Zero W + Zero4U USB hub) with two instruments connected through the type-A USB ports. </div> <p>The developed software, which enables the wireless communication between the host computer and the instrumentation has been developed in Python and it is composed by two scripts.</p> <ul> <li>The first one is <code class="language-plaintext highlighter-rouge">instin.py</code>, a package composed of all the needed function to control instrumentation but adapted to the wireless system, thus making this process transparent for the user. Basically it sends formatted packets containing the input information -desired function and SCPI (<em>Standard Commands for Programmable Instruments</em>) commands- to the gateways.</li> <li>The other one is <code class="language-plaintext highlighter-rouge">autorun.py</code>. This is a program that is launched automatically every time the gateway boots. Once the connection with the host computer is established, it reads the formatted packets, detecting the desired function and sending the corresponding SCPI command to the instrument.</li> </ul> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <img class="img-fluid rounded z-depth-1" src="/assets/img/instin-example.png" data-zoomable="" alt="" title="Communication example"> </div> </div> <div class="caption"> Example of the communication between the host computer and the gateway using the formatted packets sent from <code>instin.py</code> to <code>autorun.py</code>. </div> <p>The connection between the gateways and the instrumentation is based in the VISA (<em>Virtual Instrument Software Architecture</em>) API. There is a community-developed Python package, <a href="https://pyvisa.readthedocs.io/en/latest/" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">pyvisa</code></a>, that embeds this API and allows its interface using Python. In the case of the PC-to-gateway communication, it is based on the TCP (<em>Transfer Control Protocol</em>) protocol, over a WiFi network. This protocol is supported on Python with the <a href="https://docs.python.org/3/library/socket.html" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">socket</code></a> package.</p> <p>This project is open-source, the code is publicly available in <a href="https://github.com/eneriz-daniel/instin" rel="external nofollow noopener" target="_blank">GitHub</a>. Additionally, there is a documentation webpage <a href="https://instin.readthedocs.io/en/latest/" rel="external nofollow noopener" target="_blank">here</a>. Besides, there is an extensive explanation of this project available in the following articles:</p> <ul> <li>D. Enériz, N. Medrano and B. Calvo, “A Wireless Instrumentation Control System Based on Low-Cost Single Board Computer Gateways,” in <em>IEEE Access</em>, vol. 9, pp. 115632-115642, 2021, doi: <a href="https://doi.org/10.1109/ACCESS.2021.3104903" rel="external nofollow noopener" target="_blank">10.1109/ACCESS.2021.3104903</a>.</li> <li>D. Enériz, N. Medrano, B. Calvo and J. Pérez-Bailón, “A Wireless Instrumentation Control System Based on Low-Cost Single Board Computers,” <em>2020 IEEE International Instrumentation and Measurement Technology Conference (I2MTC)</em>, 2020, pp. 1-5, doi: <a href="https://doi.org/10.1109/I2MTC43012.2020.9129142" rel="external nofollow noopener" target="_blank">10.1109/I2MTC43012.2020.9129142</a>.</li> <li>D. Enériz, N. Medrano and B. Calvo, “Live Demonstration: A Low-Cost Wireless Instrumentation Control System,” <em>2020 IEEE International Symposium on Circuits and Systems (ISCAS)</em>, 2020, pp. 1-1, doi: <a href="https://doi.org/10.1109/ISCAS45731.2020.9180681" rel="external nofollow noopener" target="_blank">10.1109/ISCAS45731.2020.9180681</a>.</li> </ul> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Daniel Enériz. Last updated: April 24, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script type="text/javascript">$(function(){$('[data-toggle="tooltip"]').tooltip()});</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>